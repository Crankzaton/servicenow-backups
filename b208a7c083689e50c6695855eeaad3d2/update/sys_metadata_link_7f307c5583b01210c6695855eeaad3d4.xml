<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>04064b8e0a0a0b0c00ad5c7a01879400</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;
    &lt;sys_script_include action="INSERT_OR_UPDATE"&gt;
        &lt;access&gt;package_private&lt;/access&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;api_name&gt;global.UIPage&lt;/api_name&gt;
        &lt;caller_access/&gt;
        &lt;client_callable&gt;true&lt;/client_callable&gt;
        &lt;description&gt;UIPage ajax functions that replace calls to AjaxEvaluate&lt;/description&gt;
        &lt;name&gt;UIPage&lt;/name&gt;
        &lt;script&gt;&lt;![CDATA[var UIPage = Class.create();

UIPage.prototype = Object.extendsObject(AbstractAjaxProcessor, {
  ajaxFunction_createGauge: function() {
    var g = new Gauge(this.getParameter('sysparm_gauge_id'));
    g.setName(this.getParameter('sysparm_gauge_name'));
  },

  ajaxFunction_createListMechanic: function() {
   var v = new ListMechanic();
   v.setViewName(this.getParameter('sysparm_list_view'));
   v.setParent(this.getParameter('sysparm_list_parent'));
   v.setParentID(this.getParameter('sysparm_list_parent_id'));
   v.setRelationship(this.getParameter('sysparm_list_relationship'));

   var sysparmTable = this.getParameter('sysparm_table');
   if(sysparmTable)
     sysparmTable = sysparmTable.toLowerCase();

   if(!this.getParameter('sysparm_reset')) {
     if(this.getParameter('sysparm_changes'))
       v.saveList(sysparmTable, this.getParameter('sysparm_f'));
   } else 
       v.reset(sysparmTable);

   v.setHighlighting(this.getParameter('sysparm_highlighting'));
   v.setCompact(this.getParameter('sysparm_compact'));
   v.setWrap(this.getParameter('sysparm_wrap'));
   v.setFieldStyleCircles(this.getParameter('sysparm_field_style_circles'));
   var o = this.getParameter('sysparm_edit_enable');
   if (typeof o != 'undefined')
     v.setListEditEnable(o);
   o = this.getParameter('sysparm_edit_double');
   if (typeof o != 'undefined')
    v.setListEditDouble(o);
  },

  ajaxFunction_getList: function() {
   var v = new ListMechanic();
   v.setViewName(this.getParameter('sysparm_list_view'));
   v.setParent(this.getParameter('sysparm_list_parent'));
   v.setParentID(this.getParameter('sysparm_list_parent_id'));
   v.setRelationship(this.getParameter('sysparm_list_relationship'));

   var sysparmTable = this.getParameter('sysparm_table');
   if(sysparmTable)
     sysparmTable = sysparmTable.toLowerCase();

   return v.getList(sysparmTable);
  } ,

  ajaxFunction_createSecurityMechanic: function() {
   var sysparmTable = this.getParameter('sysparm_table');
   if(sysparmTable)
     sysparmTable = sysparmTable.toLowerCase();

   var v = new SecurityMechanic(
               sysparmTable,
               this.getParameter('sysparm_field'),
               this.getParameter('sysparm_operation'));
    if(this.getParameter('sysparm_save'))
      return v.saveList(this.getParameter('sysparm_f'));
    else
      return v.getList();
  },

  sendDomainChangeNotification: function() {
      var changed = this.getParameter('sysparm_domain_change');
      if (changed == 'true' &amp;&amp; gs.getProperty('glide.domain.notify_change', 'true') == 'true') {
      	var oldDomain = this.getParameter('sysparm_old_domain');
        var newDomain = this.getParameter('sysparm_new_domain');
        var sessionChange = this.getParameter('sysparm_session_change');
        if (sessionChange == 'true' || gs.getProperty('glide.domain.notify_record_change', 'false') == 'true') {
        	var n = new UINotification('domain_change');
            n.setAttribute('oldDomain', oldDomain);
            n.setAttribute('newDomain', newDomain);
            n.setAttribute('sessionChange', sessionChange);
            n.send();
         }
      }
  },

  ajaxFunction_fillWidget: function() {
    var func = this.getParameter('sysparm_function_select') + "";
    switch(func) {
      case 'DomainReference':
            var d = new DomainSelect();
            this.sendDomainChangeNotification();
            return d.getReferenceList();
      case 'Domain':
            var d = new DomainSelect();
            this.sendDomainChangeNotification();
            return d.getList();
      case 'Encrypt':
            var es = new EncryptionSelect();
            return es.getList();
      case 'Group':
            var d = new GroupSelect();
            return d.getList();
    }
  },

  ajaxFunction_changeChoice: function() {
    var func = this.getParameter('sysparm_function_select') + "";
    switch(func){
      case 'Domain':
            var d = new DomainSelect();
            return d.changeDomain(this.getParameter('sysparm_value'));
      case 'DefaultDomain':
            var d = new DomainSelect();
            return d.setDefaultDomain();
      case 'Group':
            var d = new GroupSelect();
            return d.changeGroup(this.getParameter('sysparm_value'));
      case 'Encrypt':
            var es = new EncryptionSelect();
            return es.changeKey(this.getParameter('sysparm_value'));
    }
  },

  ajaxFunction_sendAndRefresh: function() {
    gs.include('Scheduler');
    var x = new Scheduler();
    if(this.getParameter('sysparm_action') == 'start')
      x.start(this.getParameter('sysparm_node_id')+'');
    else if(this.getParameter('sysparm_action') == 'stop')
      x.stop(this.getParameter('sysparm_node_id') + '');

  },

  ajaxFunction_ajaxTest: function() {
    gs.print('super duper');
    return answer = 'Yikes!';
  }
});]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;juell.solaegui&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2009-11-17 21:26:28&lt;/sys_created_on&gt;
        &lt;sys_id&gt;04064b8e0a0a0b0c00ad5c7a01879400&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;47&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;UIPage&lt;/sys_name&gt;
        &lt;sys_package display_value="UI Pages (define HTML pages and their processing)" source="com.glide.ui_page"&gt;fd2338603c31311068bcf327dfe37f15&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_include_04064b8e0a0a0b0c00ad5c7a01879400&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2019-10-10 00:03:16&lt;/sys_updated_on&gt;
    &lt;/sys_script_include&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:09:08</sys_created_on>
        <sys_id>7f307c5583b01210c6695855eeaad3d4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>UIPage</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_7f307c5583b01210c6695855eeaad3d4</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:09:08</sys_updated_on>
        <tablename>sys_script_include</tablename>
    </sys_metadata_link>
</record_update>
