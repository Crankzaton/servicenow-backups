<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>a6c5edd7539000103eddddeeff7b12f1</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_fix"&gt;
    &lt;sys_script_fix action="INSERT_OR_UPDATE"&gt;
        &lt;before&gt;true&lt;/before&gt;
        &lt;description&gt;Due to some records having the incorrect element name, they need to be deleted to be replaced by the records with the correct element names. This requires executing this fix script before plugin update.&lt;/description&gt;
        &lt;name&gt;Trigger model fields to regenerate&lt;/name&gt;
        &lt;record_for_rollback&gt;false&lt;/record_for_rollback&gt;
        &lt;script&gt;&lt;![CDATA[if (!pm.isZboot())
	deleteModelFields();

// we only need to delete the model fields that aren't camel cased
// the `element` column is lowercased but the `field_label`column is camel cased
// the table is locked down to maint only so customization is not allowed
function deleteModelFields() {
	var modelFields = new GlideRecord('sys_declarative_action_model_field');
  modelFields.query();

  while(modelFields.next()) {
    if (modelFields.getValue('element') != modelFields.getValue('field_label')) {
      modelFields.deleteRecord();
    }
}
}]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_fix&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2019-10-10 07:06:57&lt;/sys_created_on&gt;
        &lt;sys_id&gt;a6c5edd7539000103eddddeeff7b12f1&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Trigger model fields to regenerate&lt;/sys_name&gt;
        &lt;sys_package display_value="Agent Workspace - Declarative Actions" source="com.snc.agent_workspace.declarative_actions"&gt;acfab8203c35311068bcf327dfe37fb3&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_fix_a6c5edd7539000103eddddeeff7b12f1&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2019-10-10 07:06:57&lt;/sys_updated_on&gt;
        &lt;unloadable&gt;false&lt;/unloadable&gt;
    &lt;/sys_script_fix&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:23:25</sys_created_on>
        <sys_id>c18378dd83b01210c6695855eeaad3d3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Trigger model fields to regenerate</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_c18378dd83b01210c6695855eeaad3d3</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:23:25</sys_updated_on>
        <tablename>sys_script_fix</tablename>
    </sys_metadata_link>
</record_update>
