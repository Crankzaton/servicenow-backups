<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>bc97a035871033004ebe6b2b36cb0b5a</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_fix"&gt;
    &lt;sys_script_fix action="INSERT_OR_UPDATE"&gt;
        &lt;before&gt;false&lt;/before&gt;
        &lt;description&gt;Responsive Dashboards were introduced in the Istanbul release and used by default for all new (zbooted) instances. 
To promote the functionality and give the new experience for  existing customers, Responsive Dashboards will be automatically enabled upon the upgrade to NY (or higher) realease with this script by setting the system property 'glide.cms.enable.responsive_grid_layout' to true.

Customer will still be able to disable the Responsive Dashboards if they are not ready for the new functionality by setting the system property 'glide.cms.enable.responsive_grid_layout' to false.

If the property does not exist on the customer instance, there is no need to add it as part of this script, since it will be added as part of 'Add dashboard properties' fix script ( sys_script_fix_1fd118d2b310030037c482ff86a8dc03).&lt;/description&gt;
        &lt;name&gt;Enable Responsive Dashboards on Upgrade&lt;/name&gt;
        &lt;record_for_rollback&gt;false&lt;/record_for_rollback&gt;
        &lt;script&gt;&lt;![CDATA[enableResponsiveDashboards();

/*
If we are upgrading and the property to enable Responsive Dashboards is set to false, we want the value to be true. On zBoot the property is by default true.
If the property does not exist on the customer instance, there is no need to add it as part of this script, since it will be added as part of 'Add dashboard properties' fix script ( sys_script_fix_1fd118d2b310030037c482ff86a8dc03).
*/
function enableResponsiveDashboards() {
	if (!pm.isZboot() &amp;&amp; gs.getProperty('glide.cms.enable.responsive_grid_layout') === 'false') { // upgrading and property exist but is set to false
		var systemPropertiesGR = new GlideRecord('sys_properties');
		systemPropertiesGR.addQuery('name', 'glide.cms.enable.responsive_grid_layout');
		systemPropertiesGR.query();
		if (systemPropertiesGR.next()) {
			systemPropertiesGR.setValue('value', true);
			systemPropertiesGR.update();
		}
	}  // else property is already set to true or scripts run on a zbooted instance, in which case we don't do anything since the property will be set as true by default
}]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_fix&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2019-03-20 14:54:30&lt;/sys_created_on&gt;
        &lt;sys_id&gt;bc97a035871033004ebe6b2b36cb0b5a&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Enable Responsive Dashboards on Upgrade&lt;/sys_name&gt;
        &lt;sys_package display_value="Responsive Dashboards" source="com.glideapp.dashboards"&gt;b299b4e43cf1311068bcf327dfe37ff8&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_fix_bc97a035871033004ebe6b2b36cb0b5a&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2019-03-22 13:21:51&lt;/sys_updated_on&gt;
        &lt;unloadable&gt;false&lt;/unloadable&gt;
    &lt;/sys_script_fix&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 09:40:03</sys_created_on>
        <sys_id>ff05c99583741210c6695855eeaad366</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Enable Responsive Dashboards on Upgrade</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_ff05c99583741210c6695855eeaad366</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 09:40:03</sys_updated_on>
        <tablename>sys_script_fix</tablename>
    </sys_metadata_link>
</record_update>
