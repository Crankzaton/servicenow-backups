<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>9e980bcfeb75011054009861eb522874</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;
    &lt;sys_script_include action="INSERT_OR_UPDATE"&gt;
        &lt;access&gt;public&lt;/access&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;api_name&gt;global.DefaultAutoResolutionPreProcessingExtPoint&lt;/api_name&gt;
        &lt;caller_access/&gt;
        &lt;client_callable&gt;false&lt;/client_callable&gt;
        &lt;description&gt;Implements extension point global.AutoResolutionPreProcessingExtPoint&amp;#13;
This extension point is used to pre process task data as required by the BU's and pass on the result of pre-processing to the Issue Auto-Resolution flow. This will be evaluated in the Auto-resolution flow once the task is assigned to Bot user. &lt;/description&gt;
        &lt;name&gt;DefaultAutoResolutionPreProcessingExtPoint&lt;/name&gt;
        &lt;script&gt;&lt;![CDATA[var DefaultAutoResolutionPreProcessingExtPoint = Class.create();

DefaultAutoResolutionPreProcessingExtPoint.prototype = {
    
	STATUS_SUCCESS : global.AutoResolutionConstants.STATUS_SUCCESS, 
	STATUS_ERROR : global.AutoResolutionConstants.STATUS_ERROR,
	
	initialize: function() {
    },
	
	/**
	* Return the input fields that need to be used for LanguageX
	*
	* @param logger : Auto-Resolution logger 
	* @param parameterBag : The following are the keys in the bag:  task_table_name, task_sys_id, ar_config_id
	*        eg: {
	*              task_table_name : 'hr_core_case',                   // The associated task table
	*		       task_sys_id : 'feda6b70072120109c3e59bf1ad30010',   // task sys Id 
	*              ar_config_id : 'a0ff3e68533101105400ddeeff7b12e8'.  // Auto-Resolution configuration sys Id
	*            }
	*
	* @returns {status: "success"/"error", message=" .. " , input_field:{ short_description:"xxx", description:"yyy"}, options:{}}
	*/
    process: function(logger, parameterBag) {
		
		logger.info("Starting auto-resolution pre-processing extension point: {0}", this.type);
        var response = { status: this.STATUS_SUCCESS, message: '', input_field:{}, options:{}};

		var taskGr = AutoResolutionTaskDataBroker.getTaskRecord(parameterBag.task_table_name, parameterBag.task_sys_id);
		
		if (gs.nil(taskGr)) {
			response.status = this.STATUS_ERROR;  
			response.message = 'No data found'; // can be any error message when the status is error
			return response;
		}
		
		// Get the field names from the passed task table. These fields will be used for the LanguageX input
		var taskFieldNames = global.AutoResolutionUtil.getTaskTableFieldNamesForARPredictionInput(parameterBag.task_table_name);
		
		var fieldName;
		var fieldValue;
		
		for (var i=0; i&lt;taskFieldNames.length; i++) {
			
			fieldName = taskFieldNames[i];
			fieldValue = taskGr.getValue(fieldName);
			
			if (!gs.nil(fieldValue))
				response.input_field[fieldName] = fieldValue;
		}
		
		logger.info("Auto-resolution pre-processing extension point execution is completed: {0}", this.type);	
		return response;
    },

    type: 'DefaultAutoResolutionPreProcessingExtPoint'
};]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2022-02-25 17:51:09&lt;/sys_created_on&gt;
        &lt;sys_id&gt;9e980bcfeb75011054009861eb522874&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;DefaultAutoResolutionPreProcessingExtPoint&lt;/sys_name&gt;
        &lt;sys_package display_value="Issue Auto-Resolution" source="com.glide.cs.auto_resolution"&gt;81ddf4a03c75311068bcf327dfe37fa6&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_include_9e980bcfeb75011054009861eb522874&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2023-03-08 06:54:13&lt;/sys_updated_on&gt;
    &lt;/sys_script_include&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:46:17</sys_created_on>
        <sys_id>08c8f09183341210c6695855eeaad30d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>DefaultAutoResolutionPreProcessingExtPoint</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_08c8f09183341210c6695855eeaad30d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:46:17</sys_updated_on>
        <tablename>sys_script_include</tablename>
    </sys_metadata_link>
</record_update>
