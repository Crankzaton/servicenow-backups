<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="x_938076_now_utils_now_utils_business_rules">
    <x_938076_now_utils_now_utils_business_rules action="INSERT_OR_UPDATE">
        <abort_action>false</abort_action>
        <access>package_private</access>
        <action_delete>false</action_delete>
        <action_insert>true</action_insert>
        <action_query>false</action_query>
        <action_update>true</action_update>
        <active>true</active>
        <add_message>false</add_message>
        <advanced>true</advanced>
        <change_fields>false</change_fields>
        <client_callable>false</client_callable>
        <collection/>
        <condition>current.name=="com.snc.sdlc.scrum.pp.delete_customer_updates" &amp;&amp; current.value == "true"</condition>
        <description/>
        <execute_function>false</execute_function>
        <filter_condition/>
        <is_rest>false</is_rest>
        <message/>
        <name>deleteCustomerUpdatesForScrumApplication</name>
        <order>100</order>
        <priority>100</priority>
        <rest_method/>
        <rest_method_text/>
        <rest_service/>
        <rest_service_text/>
        <rest_variables/>
        <role_conditions/>
        <script><![CDATA[// To delete customer updates to the existing Scrum SDLC installation you need to do the following:
// (1) Install the ScrumPP plugin
// (2) Create a boolean system property called "com.snc.sdlc.scrum.pp.delete_customer_updates" with value false and submit
// (3) Modify this system property to be true and save (this will trigger this business rule, which will delete customer updates)
// (4) Re-activate the ScrumPP plugin to see the views restored to their out-of-the-box state

deleteCustomerUpdatesForScrumApplication();

function deleteCustomerUpdatesForScrumApplication() {

  // (1) Check to see if user wants to delete customer updates
  gs.log("[ScrumPP] Customer updates to the SDLC Scrum application will be deleted");

  // (2) Delete customer updates
  var recordsToDelete = getRecordsToDelete();
  var records = new GlideRecord("sys_update_xml");
  records.addQuery("name", recordsToDelete);
  records.query();
  var count = 0;
  while (records.next()) {
    gs.log("[ScrumPP] Deleting " + records.name + " from update set " + records.update_set.name);
    records.deleteRecord();
    count++;
  }
  gs.log("[ScrumPP] Deleted " + count + " customer updates");

  // (3) Clear the property so it is not called again
  var property = "com.snc.sdlc.scrum.pp.delete_customer_updates";
  var properties = new GlideRecord("sys_properties");
  properties.addQuery("name", property);
  properties.query();
  if (properties.next()){
    properties.deleteRecord();
    gs.log("[ScrumPP] Deleted system property " + property);
  }
}

function getRecordsToDelete() {
  var recordsToDelete = [
    "sys_ui_list_control_3f85b6907f00000135a05e41c7547354",
    "sys_ui_list_control_3f8607b47f0000012aaff213c654be45",
    "sys_ui_list_control_6daa4a777f000001007607d32a0b44f0",
    "sys_ui_list_control_7d3d1f917f000001798fc58141419300",
    "sys_ui_list_control_aa8a1aae7f000001432d0e1142a85c2d",
    "sys_ui_list_control_aa8a4bbe7f00000139552678204587f7",
    "sys_ui_list_control_aa8ace2f7f000001514936314eb4c441",
    "sys_ui_list_control_aa8b47f57f000001024db35639e9239d",
    "sys_ui_list_control_aa8b87c57f0000014da26c6926295c45",
    "sys_ui_list_control_aa8bb1fe7f000001566e2efad03b5d1d",
    "sys_ui_list_control_f2e3f8447f0000010e16b6f2131e4c51",
    "sys_ui_list_control_f2e421e97f0000015fecc4e84539ca3f",
    "sys_ui_list_control_f31a7ea37f00000111797ad94bfc17a7",

    "sys_ui_form_sections_6dd15dd77f00000146435a3f9ec1b5c2",
    "sys_ui_form_sections_6dd2cbb17f0000016bc846fa867d9527",
    "sys_ui_form_sections_6dd47d6f7f0000011b43299d37b79da0",

    "sys_ui_section_09c7f68d0a0a2c39447a64370c6851bb",
    "sys_ui_section_09c9c4eb0a0a2c390ca461bae347c0c8",
    "sys_ui_section_6da8bbff7f00000119f52f9d2ba74f7e",
    "sys_ui_section_6dc344847f0000017a3badab86eae0f4",
    "sys_ui_section_6dc409c57f0000016dd1fbecc461c7b9",
    "sys_ui_section_6dd15e0a7f00000104ddce3e4fec5457",
    "sys_ui_section_6dd2cbc97f0000016b6662d744a1766c",
    "sys_ui_section_6dd47d857f000001783b95cc64af46a4",
    "sys_ui_section_8756880b7f00000147213f08234c9a57",
    "sys_ui_section_87569f2d7f00000116c556f5821ae434",
    "sys_ui_section_8757b94d7f0000011c1ae8aa30062c20",
    "sys_ui_section_87580cdb7f00000145cff7762bcac315",
    "sys_ui_section_a19b5086c1252a7b3632553861b5440c",
    "sys_ui_section_a7ee48bfc1252a7b377ac0507a9a6dc8",
    "sys_ui_section_aa8a5d967f0000010d9bd63883019d20",

    "sys_ui_list_rm_epic_rm_epic_scrum",
    "sys_ui_list_rm_epic_scrum_theme_scrum",
    "sys_ui_list_rm_scrum_task_rm_story_scrum",
    "sys_ui_list_rm_sprint_rm_release_scrum_scrum",
    "sys_ui_list_rm_story_rm_epic_scrum",
    "sys_ui_list_rm_story_rm_release_scrum_scrum",
    "sys_ui_list_rm_story_rm_sprint_scrum",
    "sys_ui_list_rm_story_scrum_theme_scrum",
    "sys_ui_list_scrum_group_permissions_scrum_theme_scrum",
    "sys_ui_list_scrum_user_permissions_scrum_theme_scrum",

    "sys_ui_list_rm_release_scrum_scrum",
    "sys_ui_list_rm_sprint_scrum",
    "sys_ui_list_rm_epic_scrum",
    "sys_ui_list_rm_story_scrum",
    "sys_ui_list_rm_release_scrum_null",
    "sys_ui_list_rm_sprint_null",
    "sys_ui_list_rm_epic_null",
    "sys_ui_list_rm_story_null",
    
    "sys_ui_related_rm_defect_scrum",
    "sys_ui_related_rm_doc_scrum",
    "sys_ui_related_rm_epic_scrum",
    "sys_ui_related_rm_release_scrum_scrum",
    "sys_ui_related_rm_release_scrum",
    "sys_ui_related_rm_sprint_scrum",
    "sys_ui_related_rm_story_scrum",
    "sys_ui_related_rm_test_scrum",

    "sys_ui_related_rm_defect_null",
    "sys_ui_related_rm_doc_null",
    "sys_ui_related_rm_epic_null",
    "sys_ui_related_rm_release_scrum_null",
    "sys_ui_related_rm_release_null",
    "sys_ui_related_rm_sprint_null",
    "sys_ui_related_rm_story_null",
    "sys_ui_related_rm_test_null",
   
    "sys_ui_list_control_3f85b6907f00000135a05e41c7547354",
    "sys_ui_section_87569f2d7f00000116c556f5821ae434",
    "sys_ui_section_8757b94d7f0000011c1ae8aa30062c20",
    "sys_ui_section_87580cdb7f00000145cff7762bcac315",
    "sys_ui_section_a7ee48bfc1252a7b377ac0507a9a6dc8",
    "sys_ui_section_aa8a5d967f0000010d9bd63883019d20",
    "sys_ui_list_rm_story_null",
    "sys_ui_list_rm_sprint_scrum",
    "sys_ui_list_rm_story_scrum",
    "sys_ui_related_rm_release_scrum_scrum",
    "sys_ui_related_rm_sprint_scrum",

    "sys_ui_section_0ffe390037412000dadaa3549dbe5d0d",
    "sys_ui_list_rm_story_project",
    "sys_ui_list_rm_story_sprint_planning",
    "sys_ui_list_rm_epic_sys_ref_list",
    "sys_ui_list_rm_story_release_backlog",
    "sys_ui_list_control_0b28c540ef301000a7450fa3f82256a4",

    "sys_app_module_0e28cb14ef941000a7450fa3f8225643",
    "sys_app_module_0b57e8009f503100598a5bb0657fcfae",
    "sys_app_module_b5b5b092871031003706db5eb2e3ec5b",
    "sys_app_module_d5d3212593320200ea933007f67ffb36",
    "sys_app_module_f0ca98ca874321003706db5eb2e3ecdd",
    "sys_app_module_f1e8dc8a874321003706db5eb2e3ecfa",
    "sys_app_module_2117c480ef012000a7450fa3f82256fc",
    "sys_app_module_30154714ef941000a7450fa3f82256ef",
    "sys_app_module_437d1419ef41200099620fa3f822560c",
    "sys_app_module_6d691477efb42000a7450fa3f8225612",
    "sys_app_module_5697aaa0efd41000a7450fa3f8225682",
    "sys_app_module_876add92ef931000a7450fa3f82256c9",
    "sys_app_module_97fd7218ef541000a7450fa3f8225648",
    "sys_app_module_ae802859ef41200099620fa3f8225656",
    "sys_app_module_b47c5091ef41200099620fa3f8225688",
    "sys_app_module_0a68918e37031000dadaa3549dbe5dd4",
    "sys_app_module_237c98d5ef41200099620fa3f82256e5",
    "sys_app_module_297d5419ef41200099620fa3f82256e9",
    "sys_app_module_2b80e819ef41200099620fa3f82256a6",
    "sys_app_module_487f9459ef41200099620fa3f82256db",
    "sys_app_module_4c836231ef002000a7450fa3f8225612",
    "sys_app_module_5600c718ef541000a7450fa3f8225636",
    "sys_app_module_717d1419ef41200099620fa3f82256ed",
    "sys_app_module_7580e499ef41200099620fa3f8225675",
    "sys_app_module_b17e9819ef41200099620fa3f8225692",
    "sys_app_module_db7f1099ef41200099620fa3f822564e",
    "sys_app_module_eb7dd019ef41200099620fa3f8225611",

    "sys_ui_policy_6c5665c293030200ea933007f67ffb18",
    "sys_ui_policy_823c84a6ef271000a7450fa3f8225653",
    "sys_ui_policy_128dc58293030200ea933007f67ffbb3",
    "sys_ui_policy_49dc0ca093030200ea933007f67ffb0c",
    "sys_ui_policy_830b62d6877121003706db5eb2e3ec6d",
    "sys_ui_policy_cb2b8826ef271000a7450fa3f82256b3",
    "sys_ui_policy_d8476e96877121003706db5eb2e3eca3",
    "sys_ui_policy_267d5c2aef271000a7450fa3f8225636",
    "sys_ui_policy_63a823ecefb31000a7450fa3f8225627",

    "sys_ui_action_22ada00a93330200ea933007f67ffbd5",
    "sys_ui_action_e89e773593330200ea933007f67ffbb7",
    "sys_ui_action_f6ea06e2870321003706db5eb2e3ec7d",
    "sys_ui_action_view_f9e0ee3393330200ea933007f67ffb38",
    "sys_ui_action_96bd90b28f1321001a83cfd827bdee4a",
    "sys_ui_action_c4ac45a147332100846e7eaecb9a7150",
    "sys_ui_action_c5c37126ef202000a7450fa3f8225650",
    "sys_ui_action_dd4398b937301000dadaa3549dbe5db8",
    "sys_ui_action_eaaae247873321003706db5eb2e3ec61",
    "sys_ui_action_706b5e96ef301000a7450fa3f82256a2",
    "sys_ui_action_7c972317ff231000dadaefff0efe1e62",
    "sys_ui_action_8aba60e6ef96200099620fa3f8225645",
    "sys_ui_action_93d4b3423701200054b6a3549dbe5d25",
    "sys_ui_action_d07eddaa37202000dadaa3549dbe5d46",
    "sys_ui_action_d67cdea1c32030003d2ae219cdba8f60",
    "sys_ui_action_db07e836c320310028d7d56bc3d3ae2c",
    "sys_ui_action_e2018d4237502000dadaa3549dbe5d32",
    "sys_ui_action_ee01494237502000dadaa3549dbe5dec",

    "sysrule_view_203b7ce58f3221001a83cfd827bdee67",
    "sysrule_view_43bdcd758f3221001a83cfd827bdee78",
    "sysrule_view_522cfce58f3221001a83cfd827bdeeb6",
    "sysrule_view_6b8dcd758f3221001a83cfd827bdee3b",
    "sysrule_view_9c4c79709f203100598a5bb0657fcf7d",

    "sys_script_client_3d260d71873221003706db5eb2e3ec47",
    "sys_script_client_f086b853873121003706db5eb2e3ec11",
    "sys_script_client_cdf24c2493030200ea933007f67ffb90",
    "sys_script_client_e1ea25e193002200ea933007f67ffbff",

    "sys_script_2cc257b0373321001a8326877e41f1d0",
    "sys_script_235ccb809f203100598a5bb0657fcfea",
    "sys_script_3a06ffd59f322100598a5bb0657fcf40",
    "sys_script_6940d94fef902000a7450fa3f8225689",
    "sys_script_b0490d9047103100846e7eaecb9a7165",
    "sys_script_c5dcb4f09f203100598a5bb0657fcffb",
    "sys_script_21d6b274ef202000a7450fa3f822565d",
    "sys_script_8cd24091ef52200099620fa3f8225619",
    "sys_script_9f298c85efa1200099620fa3f82256ba"
  ];

  return recordsToDelete;
}]]></script>
        <sys_class_name>x_938076_now_utils_now_utils_business_rules</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 07:53:45</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>e6bca0d983701210c6695855eeaad323</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>deleteCustomerUpdatesForScrumApplication</sys_name>
        <sys_overrides/>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>x_938076_now_utils_now_utils_business_rules_e6bca0d983701210c6695855eeaad323</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 07:53:45</sys_updated_on>
        <template/>
        <when>before</when>
    </x_938076_now_utils_now_utils_business_rules>
    <sys_translated_text action="delete_multiple" query="documentkey=e6bca0d983701210c6695855eeaad323"/>
</record_update>
