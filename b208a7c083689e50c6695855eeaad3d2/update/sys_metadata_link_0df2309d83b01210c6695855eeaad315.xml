<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>4e7c0b06ff401010a9e7faf9453bf193</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_fix"&gt;
    &lt;sys_script_fix action="INSERT_OR_UPDATE"&gt;
        &lt;before&gt;false&lt;/before&gt;
        &lt;description/&gt;
        &lt;name&gt;Paris: Fix invalid reference fields&lt;/name&gt;
        &lt;record_for_rollback&gt;false&lt;/record_for_rollback&gt;
        &lt;script&gt;&lt;![CDATA[(function() {
	var map = [
		{ table: 'sn_hr_core_college_savings_plan_enrollment', field: 'plan_type', oldReference: 'sn_hr_core_college_savings_plans', newReference: 'sn_hr_core_college_savings_plan'},
		{ table: 'sn_hr_core_employee_certification_and_license', field: 'certification_or_license', oldReference: 'sn_hr_core_certification_and_licenses', newReference: 'sn_hr_core_certification_and_license'},
		{ table: 'sn_hr_core_employee_garnishment', field: 'garnishment_type', oldReference: 'sn_hr_core_garnishments', newReference: 'sn_hr_core_garnishment'},
		{ table: 'sn_hr_core_employee_matched_gift', field: 'organization', oldReference: 'sn_hr_core_gift_matching_organizations', newReference: 'sn_hr_core_gift_matching_organization'},
		{ table: 'sn_hr_core_employee_visa', field: 'visa_type', oldReference: 'sn_hr_core_visas', newReference: 'sn_hr_core_visa'},
		{ table: 'sn_hr_core_hr_account', field: 'roles', oldReference: 'sn_hr_core_hr_account_roles', newReference: 'sn_hr_core_hr_account_role'},
		{ table: 'sn_hr_core_hr_account_access', field: 'application', oldReference: 'sn_hr_core_hr_accounts', newReference: 'sn_hr_core_hr_account'},
		{ table: 'sn_hr_core_hr_account_access', field: 'role', oldReference: 'sn_hr_core_hr_account_roles', newReference: 'sn_hr_core_hr_account_role'},
		{ table: 'sn_hr_core_hr_account_role', field: 'application', oldReference: 'sn_hr_core_hr_accounts', newReference: 'sn_hr_core_hr_account'},
		{ table: 'sn_hr_core_transportation_plan_enrollment', field: 'plan_type', oldReference: 'sn_hr_core_transportation_plans', newReference: 'sn_hr_core_transportation_plan'}
	];

	for (var i = 0; i &lt; map.length; i++) {
		var dbu = new GlideDBUpdate('sys_dictionary');
		var dbq = new GlideDBQuery('sys_dictionary');
		dbq.addQuery('name', map[i].table);
		dbq.addQuery('element', map[i].field);
		dbq.addQuery('reference', map[i].oldReference);
		dbu.setQuery(dbq);
		dbu.setValue('reference', map[i].newReference);
		dbu.execute();
		dbu.close();
		dbq.close();
	}
})();]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_fix&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2020-04-10 03:29:40&lt;/sys_created_on&gt;
        &lt;sys_id&gt;4e7c0b06ff401010a9e7faf9453bf193&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Paris: Fix invalid reference fields&lt;/sys_name&gt;
        &lt;sys_package display_value=""&gt;3ad69278db2f515086a072c7f49619fc&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_fix_4e7c0b06ff401010a9e7faf9453bf193&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2020-04-10 03:29:40&lt;/sys_updated_on&gt;
        &lt;unloadable&gt;false&lt;/unloadable&gt;
    &lt;/sys_script_fix&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:20:57</sys_created_on>
        <sys_id>0df2309d83b01210c6695855eeaad315</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Paris: Fix invalid reference fields</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_0df2309d83b01210c6695855eeaad315</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:20:57</sys_updated_on>
        <tablename>sys_script_fix</tablename>
    </sys_metadata_link>
</record_update>
