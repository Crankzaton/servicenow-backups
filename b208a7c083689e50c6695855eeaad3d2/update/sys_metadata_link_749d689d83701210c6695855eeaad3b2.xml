<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>1cce33bc870323004caf66d107cb0b3a</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;
    &lt;sys_script action="INSERT_OR_UPDATE"&gt;
        &lt;abort_action&gt;false&lt;/abort_action&gt;
        &lt;access&gt;package_private&lt;/access&gt;
        &lt;action_delete&gt;false&lt;/action_delete&gt;
        &lt;action_insert&gt;true&lt;/action_insert&gt;
        &lt;action_query&gt;false&lt;/action_query&gt;
        &lt;action_update&gt;true&lt;/action_update&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;add_message&gt;false&lt;/add_message&gt;
        &lt;advanced&gt;true&lt;/advanced&gt;
        &lt;change_fields&gt;false&lt;/change_fields&gt;
        &lt;client_callable&gt;false&lt;/client_callable&gt;
        &lt;collection&gt;asmt_metric_type&lt;/collection&gt;
        &lt;condition/&gt;
        &lt;description&gt;When we update assessor's user field for assessment type, we need to automatically add users to corresponding metric category and assessable records. The prerequisite to run this business rule is that it is schedule type and should have already set up metric category and generated assessable records for assessment.&lt;/description&gt;
        &lt;execute_function&gt;false&lt;/execute_function&gt;
        &lt;filter_condition table="asmt_metric_type"&gt;schedule_type=scheduled^evaluation_method=assessment^user_fieldISNOTEMPTY^user_fieldVALCHANGES^publish_state=published^EQ&lt;item display_value="Scheduled" endquery="false" field="schedule_type" goto="false" newquery="false" operator="=" or="false" value="scheduled"/&gt;
            &lt;item display_value="Assessment" endquery="false" field="evaluation_method" goto="false" newquery="false" operator="=" or="false" value="assessment"/&gt;
            &lt;item endquery="false" field="user_field" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/&gt;
            &lt;item endquery="false" field="user_field" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;
            &lt;item display_value="Published" endquery="false" field="publish_state" goto="false" newquery="false" operator="=" or="false" value="published"/&gt;
            &lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;
        &lt;/filter_condition&gt;
        &lt;is_rest&gt;false&lt;/is_rest&gt;
        &lt;message/&gt;
        &lt;name&gt;Auto sync user for assble record and cat&lt;/name&gt;
        &lt;order&gt;100&lt;/order&gt;
        &lt;priority&gt;100&lt;/priority&gt;
        &lt;rest_method/&gt;
        &lt;rest_method_text/&gt;
        &lt;rest_service/&gt;
        &lt;rest_service_text/&gt;
        &lt;rest_variables/&gt;
        &lt;role_conditions/&gt;
        &lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var asmtUtil = new global.AssessmentUtils();
	asmtUtil.updateCategoryUsers(current, previous);
})(current, previous);]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2019-01-15 00:16:15&lt;/sys_created_on&gt;
        &lt;sys_domain&gt;global&lt;/sys_domain&gt;
        &lt;sys_domain_path/&gt;
        &lt;sys_id&gt;1cce33bc870323004caf66d107cb0b3a&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;52&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Auto sync user for assble record and cat&lt;/sys_name&gt;
        &lt;sys_overrides/&gt;
        &lt;sys_package display_value="Assessment" source="com.snc.assessment_core"&gt;708678243cb1311068bcf327dfe37f33&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_1cce33bc870323004caf66d107cb0b3a&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2021-01-19 18:16:28&lt;/sys_updated_on&gt;
        &lt;template/&gt;
        &lt;when&gt;before&lt;/when&gt;
    &lt;/sys_script&gt;
    &lt;sys_translated_text action="delete_multiple" query="documentkey=1cce33bc870323004caf66d107cb0b3a"/&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 07:57:27</sys_created_on>
        <sys_id>749d689d83701210c6695855eeaad3b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Auto sync user for assble record and cat</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_749d689d83701210c6695855eeaad3b2</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 07:57:27</sys_updated_on>
        <tablename>sys_script</tablename>
    </sys_metadata_link>
</record_update>
