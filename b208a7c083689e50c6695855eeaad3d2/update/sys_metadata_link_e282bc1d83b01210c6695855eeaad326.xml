<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>0fe82bec536410105498ddeeff7b121e</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_fix"&gt;
    &lt;sys_script_fix action="INSERT_OR_UPDATE"&gt;
        &lt;before&gt;false&lt;/before&gt;
        &lt;description&gt;Adding bot_name and bot_icon attributes to adapter configurations for existing Slack Integrations.&lt;/description&gt;
        &lt;name&gt;Add missing attributes for Slack Adapter&lt;/name&gt;
        &lt;record_for_rollback&gt;false&lt;/record_for_rollback&gt;
        &lt;script&gt;&lt;![CDATA[var gr = new GlideRecord('sys_cs_adapter_configuration_page_slack');
gr.query();
if( gr!= null) {
	var config_page_sys_id = [];
	while(gr.next()) {
		config_page_sys_id.push(gr.getUniqueValue());
	}
	for(i=0; i&lt;config_page_sys_id.length; i++) {
		var gr_bot_name = new GlideRecord('sys_cs_adapter_configuration');
		gr_bot_name.addQuery('attribute_name', 'bot_name');
		gr_bot_name.addQuery('sys_cs_adapter_configuration_page', config_page_sys_id[i]);
		gr_bot_name.query();
		
		if (gr_bot_name.next()) {
			gr_bot_name.setValue('description', 'Instructional message for identifying an item.');
			gr_bot_name.setValue('message_type', 'bot_message');
			gr_bot_name.update();
		}
		else {
			gr_bot_name.initialize();
			gr_bot_name.setValue('attribute_name', 'bot_name');
			gr_bot_name.setValue('description', 'Instructional message for identifying an item.');
			gr_bot_name.setValue('message_type', 'bot_message');
			gr_bot_name.setValue('sys_cs_adapter_configuration_page', config_page_sys_id[i]);
			gr_bot_name.insert();
		}
	
		var gr_bot_icon = new GlideRecord('sys_cs_adapter_configuration');
		gr_bot_icon.addQuery('attribute_name', 'bot_icon');
		gr_bot_icon.addQuery('sys_cs_adapter_configuration_page', config_page_sys_id[i]);
		gr_bot_icon.query();
		
		if (gr_bot_icon.next()) {
			gr_bot_icon.setValue('description', 'Instructional message for uploading an image.');
			gr_bot_icon.setValue('message_type', 'bot_message');
			gr_bot_icon.update();
		}
		else {
			gr_bot_icon.initialize();
			gr_bot_icon.setValue('attribute_name', 'bot_icon');
			gr_bot_icon.setValue('description', 'Instructional message for uploading an image.');
			gr_bot_icon.setValue('message_type', 'bot_message');
			gr_bot_icon.setValue('sys_cs_adapter_configuration_page', config_page_sys_id[i]);
			gr_bot_icon.insert();
		}
	}
}]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_fix&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2020-04-30 10:03:45&lt;/sys_created_on&gt;
        &lt;sys_id&gt;0fe82bec536410105498ddeeff7b121e&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Add missing attributes for Slack Adapter&lt;/sys_name&gt;
        &lt;sys_package display_value="Glide Conversation Server Adapters" source="com.glide.cs.adapter"&gt;2d8d78203c75311068bcf327dfe37f09&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_fix_0fe82bec536410105498ddeeff7b121e&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2020-05-04 05:42:14&lt;/sys_updated_on&gt;
        &lt;unloadable&gt;true&lt;/unloadable&gt;
    &lt;/sys_script_fix&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:19:08</sys_created_on>
        <sys_id>e282bc1d83b01210c6695855eeaad326</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Add missing attributes for Slack Adapter</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_e282bc1d83b01210c6695855eeaad326</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:19:08</sys_updated_on>
        <tablename>sys_script_fix</tablename>
    </sys_metadata_link>
</record_update>
