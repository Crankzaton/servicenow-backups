<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>feca27cc47a17950020ba9f8536d437a</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_fix"&gt;
    &lt;sys_script_fix action="INSERT_OR_UPDATE"&gt;
        &lt;before&gt;false&lt;/before&gt;
        &lt;description&gt;Dynamic Approvers based on the entity selected by the use

This script inlcude is supported to the reference qualifier in the Dynamic Approval Variable set

Parameter in the reference qualifier to be used:

 javascript: dynamicapprovers(current.variables.entity_id.u_region.getDisplayValue());&lt;/description&gt;
        &lt;name&gt;Dynamic Dropdown based on Variable&lt;/name&gt;
        &lt;record_for_rollback&gt;true&lt;/record_for_rollback&gt;
        &lt;script&gt;&lt;![CDATA[function dynamicapprovers(region) {
    var users = [];
    if (region == 'APAC') { //APAC
        var getAPACMembers = new GlideRecord('sys_user_grmember');
        getAPACMembers.addQuery('group.name', "SN-FI-APAC-Pre SSC Approver");
        getAPACMembers.query();
        while (getAPACMembers.next()) {
            users.push(getAPACMembers.user.toString());
            //answer.push(grmembers.group.toString());
        }
    } else if (region == 'NAM') { //NAM
        var getAMERMembers = new GlideRecord('sys_user_grmember');
        getAMERMembers.addQuery('group.name', "SN-FI-AMER-Pre SSC Approver");
        getAMERMembers.query();
        while (getAMERMembers.next()) {
            users.push(getAMERMembers.user.toString());
        }
    }
    var encodedQuery = 'sys_idIN' + users.join(',');
    return encodedQuery;
}]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_fix&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;Gokul Nath&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2023-09-23 14:56:52&lt;/sys_created_on&gt;
        &lt;sys_id&gt;feca27cc47a17950020ba9f8536d437a&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Dynamic Dropdown based on Variable&lt;/sys_name&gt;
        &lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_fix_feca27cc47a17950020ba9f8536d437a&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;Gokul Nath&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2023-09-23 14:56:52&lt;/sys_updated_on&gt;
        &lt;unloadable&gt;false&lt;/unloadable&gt;
    &lt;/sys_script_fix&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:18:15</sys_created_on>
        <sys_id>2152f41d83b01210c6695855eeaad304</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Dynamic Dropdown based on Variable</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_2152f41d83b01210c6695855eeaad304</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:18:15</sys_updated_on>
        <tablename>sys_script_fix</tablename>
    </sys_metadata_link>
</record_update>
