<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>afeec6159f7302000ad25c96132e709b</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_fix"&gt;
    &lt;sys_script_fix action="INSERT_OR_UPDATE"&gt;
        &lt;before&gt;false&lt;/before&gt;
        &lt;description&gt;sys_choice value is same i.e., 6, for 'Deferred' state in 'dmn_demand' table and 'Resolved' state in 'incident' table, causing issue in the options that gets listed in filter for state value. So we modify the value of demand deferred state to '10'.&lt;/description&gt;
        &lt;name&gt;Update demand deferred state value to 10&lt;/name&gt;
        &lt;record_for_rollback&gt;false&lt;/record_for_rollback&gt;
        &lt;script&gt;&lt;![CDATA[updateDeferredStateValueForDemand();

function updateDeferredStateValueForDemand() {
	var demandRec = new GlideRecord('dmn_demand');
	demandRec.addQuery('state', 6);
	demandRec.query();
	var count = demandRec.getRowCount();
	while(demandRec.next()) {
		demandRec.state = 10;
		demandRec.update();
	}
	gs.log(count + " Demand records updated with new Deferred state value 10");
}
]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_fix&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2015-11-17 11:08:15&lt;/sys_created_on&gt;
        &lt;sys_id&gt;afeec6159f7302000ad25c96132e709b&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Update demand deferred state value to 10&lt;/sys_name&gt;
        &lt;sys_package display_value="Demand Management" source="com.snc.demand_management"&gt;82005a2b47e64210cd4e1ce4316d4346&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_fix_afeec6159f7302000ad25c96132e709b&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2015-11-17 11:08:15&lt;/sys_updated_on&gt;
        &lt;unloadable&gt;false&lt;/unloadable&gt;
    &lt;/sys_script_fix&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:23:40</sys_created_on>
        <sys_id>70933cdd83b01210c6695855eeaad3d0</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Update demand deferred state value to 10</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_70933cdd83b01210c6695855eeaad3d0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:23:40</sys_updated_on>
        <tablename>sys_script_fix</tablename>
    </sys_metadata_link>
</record_update>
