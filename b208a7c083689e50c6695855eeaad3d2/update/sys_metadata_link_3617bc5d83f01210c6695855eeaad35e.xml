<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>798d7e4adb3129501daee35bd39619c4</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;
    &lt;sys_script_include action="INSERT_OR_UPDATE"&gt;
        &lt;access&gt;package_private&lt;/access&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;api_name&gt;global.dynamicapprovers&lt;/api_name&gt;
        &lt;caller_access/&gt;
        &lt;client_callable&gt;true&lt;/client_callable&gt;
        &lt;description&gt;Dynamic Approvers based on the entity selected by the use

This script inlcude is supported to the reference qualifier in the Dynamic Approval Variable set

Parameter in the reference qualifier to be used: javascript: dynamicapprovers(current.variables.entity_id.u_region.getDisplayValue());&lt;/description&gt;
        &lt;name&gt;dynamicapprovers&lt;/name&gt;
        &lt;script&gt;&lt;![CDATA[function dynamicapprovers(region) {
    var users = [];
    if (region == 'APAC') { //APAC
        var getAPACMembers = new GlideRecord('sys_user_grmember');
        getAPACMembers.addQuery('group.name', "SN-FI-APAC-Pre SSC Approver");
        getAPACMembers.query();
        while (getAPACMembers.next()) {
            users.push(getAPACMembers.user.toString());
            //answer.push(grmembers.group.toString());
        }
    } else if (region == 'NAM') { //NAM
        var getAMERMembers = new GlideRecord('sys_user_grmember');
        getAMERMembers.addQuery('group.name', "SN-FI-AMER-Pre SSC Approver");
        getAMERMembers.query();
        while (getAMERMembers.next()) {
            users.push(getAMERMembers.user.toString());
        }
    }
    var encodedQuery = 'sys_idIN' + users.join(',');
    return encodedQuery;
}]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;g.varadarajan&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2023-03-27 07:00:23&lt;/sys_created_on&gt;
        &lt;sys_id&gt;798d7e4adb3129501daee35bd39619c4&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;46&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;dynamicapprovers&lt;/sys_name&gt;
        &lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_include_798d7e4adb3129501daee35bd39619c4&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2024-02-04 17:25:17&lt;/sys_updated_on&gt;
    &lt;/sys_script_include&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 08:39:06</sys_created_on>
        <sys_id>3617bc5d83f01210c6695855eeaad35e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>dynamicapprovers</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_3617bc5d83f01210c6695855eeaad35e</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 08:39:06</sys_updated_on>
        <tablename>sys_script_include</tablename>
    </sys_metadata_link>
</record_update>
