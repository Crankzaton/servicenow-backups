<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>aac2819273712010b5c7ed64fbf6a775</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;
    &lt;sys_script_include action="INSERT_OR_UPDATE"&gt;
        &lt;access&gt;package_private&lt;/access&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;api_name&gt;global.ContentAuthoringAjaxSNC&lt;/api_name&gt;
        &lt;caller_access/&gt;
        &lt;client_callable&gt;true&lt;/client_callable&gt;
        &lt;description&gt;[WARNING: Customers should NOT modify this script]&amp;#13;
&amp;#13;
The purpose of this script include is to provide default behaviours for the ContentAuthoringAjax script include.&amp;#13;
To change the behaviour of these methods (or add new methods), Customers should override/add new methods to the ContentAuthoringAjax script include. &lt;/description&gt;
        &lt;name&gt;ContentAuthoringAjaxSNC&lt;/name&gt;
        &lt;script&gt;&lt;![CDATA[var ContentAuthoringAjaxSNC = Class.create();
ContentAuthoringAjaxSNC.prototype = Object.extendsObject(AbstractAjaxProcessor, {
    /**
     * This function will create assosiation of content to topic
     */
    createContentMapping: function() {
		var contentSysId = this.getParameter('sysparm_documentId');
		var contentTable = this.getParameter('sysparm_table');
		var topicSysId = this.getParameter('sysparm_topic');
        var mappingSysId = this._createContentMapping(contentSysId, contentTable, topicSysId);
        var result = this.newItem("result");
        result.setAttribute("mappingSysId", JSON.stringify(mappingSysId));
    },
	
    _createContentMapping: function(contentSysId, contentTable, topicSysId) {
        var table = this._getContentTable(contentTable);
        return new global.TaxonomyUtil().associateContentToTopic(contentSysId, table, topicSysId);
    },

    /**
     * This function will return the content table for the corresponding extended table.
     * @param table: extended table name.
     */
    _getContentTable: function(table) {
        var tableNames = global.TaxonomyConstants.TABLES['CONTENT_TABLES'];
        for (var i in tableNames) {
            if (table === tableNames[i] || new TableUtils(table).getTables().indexOf(tableNames[i]) != -1)
                return tableNames[i];
        }
        return table;
    },

    /**
     * This function will return all active taxonomies
	 * @return String
     */
    getTaxonomies: function() {
		var taxonomyGr = new GlideRecord("taxonomy");
		var taxonomies = new global.TaxonomyUtil().getTaxonomies(false);
		taxonomies = JSON.stringify(taxonomies);
        var result = this.newItem("result");
        result.setAttribute("taxonomy", taxonomies);
    },
	
    /**
     * This function will return all topics for a Taxonomy
     */
    getTaxonomyTopics: function() {
        var topics = new global.TaxonomyUtil().getTopicsHierarchy(this.getParameter('sysparm_taxonomyId'));
        var result = this.newItem("result");
        result.setAttribute("topics", JSON.stringify(topics));
    },

    type: 'ContentAuthoringAjaxSNC'
});]]&gt;&lt;/script&gt;
        &lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2021-01-21 07:49:41&lt;/sys_created_on&gt;
        &lt;sys_id&gt;aac2819273712010b5c7ed64fbf6a775&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;93&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;ContentAuthoringAjaxSNC&lt;/sys_name&gt;
        &lt;sys_package display_value="Content Taxonomy" source="com.snc.taxonomy"&gt;0dbb74a43c35311068bcf327dfe37ffd&lt;/sys_package&gt;
        &lt;sys_policy&gt;read&lt;/sys_policy&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_script_include_aac2819273712010b5c7ed64fbf6a775&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2021-07-13 07:15:35&lt;/sys_updated_on&gt;
    &lt;/sys_script_include&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-21 09:17:38</sys_created_on>
        <sys_id>67eff09d83341210c6695855eeaad3d4</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>ContentAuthoringAjaxSNC</sys_name>
        <sys_package display_value="Now Utils" source="x_938076_now_utils">b208a7c083689e50c6695855eeaad3d2</sys_package>
        <sys_policy/>
        <sys_scope display_value="Now Utils">b208a7c083689e50c6695855eeaad3d2</sys_scope>
        <sys_update_name>sys_metadata_link_67eff09d83341210c6695855eeaad3d4</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-21 09:17:38</sys_updated_on>
        <tablename>sys_script_include</tablename>
    </sys_metadata_link>
</record_update>
